<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/p"
       xmlns:c="http://www.springframework.org/schema/c"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context
            http://www.springframework.org/schema/context/spring-context.xsd">
    <context:property-placeholder location="classpath:application.properties"/>
    <bean id="eventService" class="com.epam.service.EventService" p:eventDao-ref="eventDao"/>
    <bean id="ticketService" class="com.epam.service.TicketService" p:ticketDao-ref="ticketDao"
          p:eventDao-ref="eventDao" p:userDao-ref="userDao"/>
    <bean id="userService" class="com.epam.service.UserService" p:userDao-ref="userDao"/>
    <bean id="userDao" class="com.epam.dao.UserDao" p:storage-ref="storage"/>
    <bean id="eventDao" class="com.epam.dao.EventDao" p:storage-ref="storage"/>
    <bean id="ticketDao" class="com.epam.dao.TicketDao" p:storage-ref="storage"/>
    <bean id="storage" class="com.epam.storage.Storage"/>
    <bean id="bookingFacade" class="com.epam.facade.BookingFacade" c:eventService-ref="eventService"
          c:ticketService-ref="ticketService" c:userService-ref="userService"/>
    <bean id="fillStorageBeanPostProcessor" class="com.epam.storage.FillStorageBeanPostProcessor"
          p:userMapValue="${storage.user.values}" p:eventMapValue="${storage.event.values}"
          p:ticketMapValue="${storage.ticket.values}"/>
</beans>